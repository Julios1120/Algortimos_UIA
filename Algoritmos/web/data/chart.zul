<?xml version="1.0" encoding="UTF-8"?>
<!--
chart.zul

{{IS_NOTE
        Purpose:

        Description:

        History:
                Thu Nov 13 16:07:16 TST 2008, Created by Flyworld
}}IS_NOTE

Copyright (C) 2008 Potix Corporation. All Rights Reserved.

{{IS_RIGHT
}}IS_RIGHT
-->
<window id="demo" apply="org.zkoss.zksandbox.DemoWindowComposer" height="100%">
	<custom-attributes org.zkoss.zul.image.preload="true"/>
	<html><![CDATA[
		<h4>Chart</h4>
	]]></html>
	<span sclass="edition-field">
		The JFreeChart engine requires
		<a href="http://www.zkoss.org/product/zk/edition" sclass="edition-field" label=" ZK PE or EE."/>
	</span>
	<html><![CDATA[
		<p>Displays a set of data graphically. 
		In this demo, change the value of the grid and the chart 
		will be redrawn accordingly. Also, the chart can be drill down with a click 
		on the pie.</p>
	]]></html>
	<separator />
	<tabbox width="100%" tabscroll="false" vflex="1">
		<tabs>
			<tab id="demoView" label="Demo"/>
			<tab id="srcView" label="View Source"/>
		</tabs>
		<tabpanels>
			<tabpanel style="overflow:auto">
				<window id="view">
				</window>
			</tabpanel>
			
			<tabpanel>
				<panel vflex="1">
					<panelchildren>
						<textbox id="codeView" class="code" multiline="true" width="95%" vflex="1">
<attribute name="value"><![CDATA[
<vbox>
	<grid width="400px">
		<columns>
			<column label="category" width="150px" />
			<column label="value" />
		</columns>
		<rows>
			<row>
				<label id="c0" value="C/C++" />
				<doublebox id="v0" value="21.2" constraint="no empty"
					onChange="update(0)" />
			</row>
			<row>
				<label id="c1" value="VB" />
				<doublebox id="v1" value="10.2" constraint="no empty"
					onChange="update(1)" />
			</row>
			<row>
				<label id="c2" value="Java" />
				<doublebox id="v2" value="40.4" constraint="no empty"
					onChange="update(2)" />
			</row>
			<row>
				<label id="c3" value="PHP" />
				<doublebox id="v3" value="28.2" constraint="no empty"
					onChange="update(3)" />
			</row>
		</rows>
	</grid>
	<checkbox label="3D Chart" checked="true"
		onCheck="mychart.setThreeD(self.isChecked())" />
	<chart id="mychart" title="Pie Chart Demo" width="500" height="250"
		type="pie" threeD="true" fgAlpha="128">
		<attribute name="onClick">
			Area area = event.getAreaComponent();
			if (area != null) {
			    alert(""+area.getAttribute("entity")+": "+area.getTooltiptext());
			}
		</attribute>
		<zscript>
			void update(int rowIndex) {
				Label lb = (Label) self.getFellow("c"+rowIndex);
				Doublebox db = (Doublebox) self.getFellow("v"+rowIndex);
				model.setValue(lb.value, new Double(db.getValue().doubleValue()));
		  	}  
		  	PieModel model = new SimplePieModel();
			for(int j=0; j &lt; 4; ++j) {
				update(j);
		  	}
		  	mychart.setModel(model);
		</zscript>
	</chart>
	<toolbarbutton label="See More chart..." href="/data/morechart.zul" target="zksandbox"/>
</vbox>
]]></attribute>
						</textbox>
					</panelchildren>
					<toolbar mold="panel">
						<button id="tryBtn" label="Try me!" autodisable="self"/>
						<button id="reloadBtn" label="Reload" autodisable="self"/>
					</toolbar>
				</panel>
			</tabpanel>
		</tabpanels>
	</tabbox>
</window>
